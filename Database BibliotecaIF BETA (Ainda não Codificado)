-- Criação do banco de dados
CREATE DATABASE bibliotecaif;

-- Seleciona o banco de dados
USE bibliotecaif;

-- Criação da tabela de Alunos
CREATE TABLE alunos (
    aluno_id INT AUTO_INCREMENT PRIMARY KEY,
    nome VARCHAR(100) NOT NULL,
    email VARCHAR(100) NOT NULL UNIQUE,
    telefone VARCHAR(15)
);

-- Criação da tabela de Livros
CREATE TABLE livros (
    livro_id INT AUTO_INCREMENT PRIMARY KEY,
    titulo VARCHAR(255) NOT NULL,
    autor VARCHAR(100),
    quantidade INT DEFAULT 0
);

-- Criação da tabela de Empréstimo
CREATE TABLE emprestimo (
    emprestimo_id INT AUTO_INCREMENT PRIMARY KEY,
    aluno_id INT,
    livro_id INT,
    data_emprestimo DATE,
    FOREIGN KEY (aluno_id) REFERENCES alunos(aluno_id),
    FOREIGN KEY (livro_id) REFERENCES livros(livro_id)
);

-- Criação da tabela de Devolução
CREATE TABLE devolucao (
    devolucao_id INT AUTO_INCREMENT PRIMARY KEY,
    emprestimo_id INT,
    data_devolucao DATE,
    multa DECIMAL(10, 2) DEFAULT 0.00,
    FOREIGN KEY (emprestimo_id) REFERENCES emprestimo(emprestimo_id)
);
